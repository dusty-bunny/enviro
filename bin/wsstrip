#!/bin/bash


strip_srcs()
{
        for file in $@ ; do
                if [ ${file%%.c} == $file -a ${file%%.h} == $file ] ; then
                        echo "Skipping $file"
                        continue
                fi
                sed -i -e 's/[ 	]\+$//' $file
        done
}

strip_ascii()
{
        for file in $@ ; do
                [ ! -f $file ] && continue
                [ "$(basename $0)" == "$(basename $file)" ] && echo ======== && continue
        sed -i -e 's/[ 	]\+$//' -e 's/^[ ]\+	/	/' -e 's/$//' $file && echo "Processed: $file"
        done
}

strip_ascii "$@"
# strip_srcs "$@"
