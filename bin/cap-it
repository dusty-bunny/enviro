#!/bin/bash

[ $# -lt 2 ] &&  echo "No, at least two args are required." >&2 && exit 1

if [ "$1" = "uc" ] || [ "$1" = "lc" ] ; then
        CASE="$1"; shift
fi
FILE="$1" ; shift
[ ! -f "$FILE" ] && echo "Not a file: [$FILE]" >&2 && exit 2

# set -x

STEM=${1%_t} ; shift


if [ "$CASE" = "uc" ] || [ -z "$CASE" ] ; then
        echo "Converting type variable to upper case." >&2
        eval sed -i -e \'s/${STEM}_t/${STEM^^}_t/g\' "$FILE"
fi

if [ "$CASE" = "lc" ] ; then
        echo "Converting type variable to lower case." >&2
        eval sed -i -e \'s/${STEM^^}_t/${STEM,,}_t/g\' "$FILE"
fi

